name: Azure Pipelines
variables:
  python.version: '3.7.6'
stages:
- stage: Deploy
  jobs:
  - deployment: FakeRestAPI
    pool:
      vmImage: 'Ubuntu-16.04'
    environment: 'ENVIRONMENT NAME'
    strategy:
      runOnce:
        deploy:
          steps:
          - task: AzureWebApp@1
            displayName: 'Deploy Azure Web App'
            inputs:
              azureSubscription: '7d1bdf9c-5976-4894-bbc3-6e8eacd69733'
              appName: 'udacityapp-AppService'
              appType: webApp
              package: $(Pipeline.Workspace)/drop-fakerestapi/$(Build.BuildId)-fakerestapi.zip
  #- deployment: VMDeploy
  #  displayName: NAME
  #  environment:
  #    name:  ENVIRONMENT NAME
  #    resourceType: VirtualMachine
  #    tags: VM
  #  strategy:
  #    runOnce:
  #      deploy:
  #        steps:
  #        - task: Bash@3
  #          inputs:
  #            targetType: 'inline'
  #            script: |
  #              #! /bin/bash
  #            
  #              sudo apt-get upgrade -y
  #              sudo apt-get install python3-pip -y
  #              sudo apt-get install unzip -y
  #              sudo apt-get install -y chromium-browser
  #              pip3 install selenium
  #              export PATH=$PATH:some/path


